__author__ = 'YifanHe'
path = '/Users/YifanHe/Desktop/forServer/'
templatePath = path + 'AncestryUpdated.py'
template = open(templatePath, 'rb')
states = ['Alabama', 'Arkansas', 'California', 'Colorado', 'Connecticut', 'Delaware', 'District+of+Columbia', 'Florida', 'Georgia', 'Idaho', 'Illinois', 'Indiana', 'Iowa', 'Kansas', 'Kentucky', 'Louisiana', 'Maine', 'Maryland', 'Michigan', 'Minnesota', 'Mississippi', 'Missouri', 'Montana', 'Nevada', 'New+Hampshire', 'New+Jersey', 'New+Mexico', 'New+York', 'North+Carolina', 'Oregon', 'Pennsylvania', 'Rhode+Island', 'South+Carolina', 'Tennessee', 'Texas', 'Vermont', 'Virginia', 'Washington', 'West+Virginia', 'Wyoming']

for i in states:
    scriptPath = path+'SplitIntoStates/' + i+'.py'
    script = open(scriptPath,'ab')
    template = open(templatePath, 'rb')
    for line in template:
        # if i=='Arkansas':
        #     print 'gethere'
        if "Alabama" in line:
            temp = line.replace('Alabama',i)
            script.write(temp)
        # elif "dir =" in line:
        #     temp = line.replace()
        #     script.write(temp)
        # elif "dir2 = " in line and "self.states[i] + '/' + name" in line:
        #     temp = line.replace()
        #     script.write(temp)
        # elif "dir2 = " in line and "state +'/'+ name" in line:
        #     temp = line.replace()
        #     script.write(temp)
        elif "cookie = " in line:
            old = "cookie = 'ANCUUID=14586063e9a24a129f778ba9a0e7e38f; an_split=93; __gads=ID=b51fe0690ca4af60:T=1479539401:S=ALNI_Mbstn_5KBsXkiK2CeLDdmTPKs-w3g; fsr.r=%7B%22d%22%3A90%2C%22i%22%3A%22d44bc89-86357296-ab50-5fb2-85f42%22%2C%22e%22%3A1480144989190%7D; WRUID=2097027762.2073572126; __CT_Data=gpv=9&apv_53161_www=7&cpv_53161_www=1; ATT=jS3XSULQT2OcrVWQI0zCAG*CvPAsheIAbqSaEY; ANCATT=jS3XSULQT2OcrVWQI0zCAG*CvPAsheIAbqSaEY; LAU=04692a9b-0006-0000-0000-000000000000; RMEATT=jS3XSULQT2OcrVWQI0zCAG*CvPAsheIAbqSaEY; OMNITURE=TYPE=Trialer; ANCSESSIONID=199e2c31-6ae4-4ce0-b5f1-e1b15bf881ba; BAIT=Id%3d04692a9b-0006-0000-0000-000000000000%3bLanguage%3dEnglish%3bOldDna%3d0%3bFreeDnaUp%3d0%3bDnaPilot%3d0%3bNewDna%3d0%3bDnaGF%3d0%3bDnaDSP%3d0%3bDnaDSAC%3d0%3bht%3d1%3btn%3d1-5%3brt%3dd1-7%3bct%3d%3bcr%3d%3bownership%3dAncestry_World_Deluxe%3bhasgs%3d0%3bhadgs%3d0%3bbuygs%3d0%3bduration%3dDays_14%3bCSub%3d0%3bESub%3d0%3bCTrial%3d1%3bETrial%3d1%3bBT%3dM%3bLSub%3d%3bLSubDuration%3d%3bLSubPrice%3d0.00%3bLSubCurrency%3d%3bDSSE%3d0%3bLoggedIn%3d1%3bNBP_ONSITE%3d1234%3bINF_ONSITE%3d1234%3bCOL_ONSITE%3d1234%3bGEN_ONSITE%3d1234%3bRegType%3dUnknown%3bdne%3d0%3beoi%3d1; TI.SI=0; TI=0; VARS=LCID=1033&WTT=Gsd_pUMeVYcmUs2muE40WG*CvPQ3FeIAbqSaEY&UR=32768&UREXP=11/24/2016 8:52:31 AM&USID=D732EED6-47CA-414F-9CED-DD3A8312F0A6&COUNTRYCODE=US&NODOUBLEBILLSTATEFOUND=11/23/2016 10:52:34 PM&S1=1&NEWSFLAGS=5242881; an_s_split=14; fs_dnaQ=0; OMNITURET=MR=1033; PrefID=12-4676627539; VARSESSION=S=g73npvotL06wIYhHlqc74Q%3d%3d&SLI=1&ITT=jS3XSULQT2OcrVWQI0zCAG*CvPAsheIAbqSaEY&URE=52XMZn_ocPM3qB6_sFZtvE*CvPAsheI*LIBppymAY&UG=1&ISAIALE=028ab3c862f&ACCTSTAT=0&HASPIV=False&LOGINNAME=xiaxinwang&FAILBILL=0|1/1/0001 12:00:00 AM&CLSRM=0&CVREF=bcol:d=1264,p=; mbox=PC#1479539354833-795767.28_87#1482565454|session#1479973453018-407657#1479975314; s_cc=true; _ga=GA1.2.211774191.1479539356; CBROWSES=PATHDB=1264&PATH=Colorado.Arapahoe+through+Weld+Counties%3b+1864; utag_main=v_id:01587b6aeede00079e02e59d4d2505072001806a00bd0$_sn:17$_ss:0$_st:1479975904979$dc_visit:5$ses_id:1479966755275%3Bexp-session$_pn:14%3Bexp-session$dc_event:1%3Bexp-session$mm_uuid:4bb657f0-8288-4d00-8942-b34ff07284e6%3Bexp-session$dc_region:us-east-1%3Bexp-session; gpv_pn=ancestry%20us%20%3A%20interactive%20image%20%3A%20forms%20%3A%20imageload; an_hasTree=1; s_sq=%5B%5BB%5D%5D; s_vi=[CS]v1|2C17FD4D05013ED3-4000010A600042D4[CE]; SOURCES=DID=3&DDD=11%2f24%2f2016+01%3a23%3a11&CID=78f0deff-d005-4a1b-a25e-e000ffe21e8c; fsr.s=%7B%22v1%22%3A-1%2C%22v2%22%3A-2%2C%22rid%22%3A%22d44bc89-86357296-ab50-5fb2-85f42%22%2C%22to%22%3A4.6%2C%22c%22%3A%22http%3A%2F%2Finteractive.ancestry.com%2F1264%2Frhusa1862_101373-00396%22%2C%22pv%22%3A14%2C%22lc%22%3A%7B%22d6%22%3A%7B%22v%22%3A14%2C%22s%22%3Atrue%7D%7D%2C%22cd%22%3A6%2C%22f%22%3A1479975793075%2C%22sd%22%3A6%7D'"
            new = "cookie = 'ANCUUID=599a2c0d687543aa9315037112aa1fd3; an_split=39; fsr.r=%7B%22d%22%3A90%2C%22i%22%3A%22de358f7-93567997-da1c-9539-351a4%22%2C%22e%22%3A1480363905574%7D; __gads=ID=016f877c9eb75b05:T=1479981416:S=ALNI_MZMddMdmGV42JMOEPDoJv1CiFlsLg; giftingCombo2016=1; ATT=FlPhhlUDcAhyhEAGOVJzSE*CvPQZweIAbqSaEY; ANCATT=FlPhhlUDcAhyhEAGOVJzSE*CvPQZweIAbqSaEY; LAU=04692a9b-0006-0000-0000-000000000000; VARS=LCID=1033&COUNTRYCODE=US&WTT=U-v7eeHjVGZB9nGA6aoG7F*CvPA4TeIAbqSaEY&UR=32768&UREXP=11/26/2016 11:37:13 PM&NEWSFLAGS=5242881&USID=5002B8C3-6230-4241-BA9C-F9D90E81E6C5&NODOUBLEBILLSTATEFOUND=11/25/2016 11:45:53 PM&ABANNER=636157143535605512; RMEATT=FlPhhlUDcAhyhEAGOVJzSE*CvPQZweIAbqSaEY; OMNITURE=TYPE=Trialer; ANCSESSIONID=99878cdf-d62e-40eb-93e1-fea7af3db215; BAIT=Id%3d04692a9b-0006-0000-0000-000000000000%3bLanguage%3dEnglish%3bOldDna%3d0%3bFreeDnaUp%3d0%3bDnaPilot%3d0%3bNewDna%3d0%3bDnaGF%3d0%3bDnaDSP%3d0%3bDnaDSAC%3d0%3bht%3d1%3btn%3d1-5%3brt%3dd8-14%3bct%3d%3bcr%3d%3bownership%3dAncestry_World_Deluxe%3bhasgs%3d0%3bhadgs%3d0%3bbuygs%3d0%3bduration%3dDays_14%3bCSub%3d0%3bESub%3d0%3bCTrial%3d1%3bETrial%3d1%3bBT%3dM%3bLSub%3d%3bLSubDuration%3d%3bLSubPrice%3d0.00%3bLSubCurrency%3d%3bDSSE%3d0%3bLoggedIn%3d1%3bNBP_ONSITE%3d1234%3bINF_ONSITE%3d1234%3bCOL_ONSITE%3d1234%3bGEN_ONSITE%3d1234%3bRegType%3dUnknown%3bdne%3d0%3beoi%3d1; an_s_split=78; fs_dnaQ=0; _gat_Google_Universal_Analytics=1; TI.SI=0; TI=0; mbox=PC#1479755227295-658620.20_53#1482784642|session#1480192636400-41919#1480194502; VARSESSION=S=GmsEpZ3tukaEp0187JsZqg%3d%3d&SLI=1&ITT=FlPhhlUDcAhyhEAGOVJzSE*CvPQZweIAbqSaEY&URE=5lZXPwgC-X4KH8B-jmFRzF*CvPQZweI*LIBppymAY&UG=1&ISAIALE=040f47ca78d&ACCTSTAT=0&HASPIV=False&LOGINNAME=xiaxinwang&FAILBILL=0|1/1/0001 12:00:00 AM&CLSRM=0; OMNITURET=MR=1033; utag_main=v_id:0158883ece61001c69288fa7456f0507800330700093c$_sn:18$_ss:0$_st:1480194445643$dc_visit:4$ses_id:1480192637321%3Bexp-session$_pn:3%3Bexp-session$dc_event:1%3Bexp-session$mm_uuid:a4bd5669-dfb0-4900-ac3c-d609f281eda4%3Bexp-session$dc_region:us-east-1%3Bexp-session; gpv_pn=ancestry%20us%20%3A%20search%20%3A%20form%20%3A%20database; an_hasTree=1; s_cc=true; s_sq=%5B%5BB%5D%5D; _ga=GA1.2.865662395.1479754568; s_vi=[CS]v1|2C19A1A385032FDD-6000118B80001619[CE]; PrefID=49-3973468961; _gali=browseOptions0; SOURCES=DID=3&DDD=11%2f26%2f2016+13%3a37%3a40; fsr.s=%7B%22v1%22%3A-1%2C%22v2%22%3A-2%2C%22rid%22%3A%22de358f7-93567997-da1c-9539-351a4%22%2C%22to%22%3A2.8%2C%22c%22%3A%22http%3A%2F%2Fsearch.ancestry.com%2Fsearch%2Fdb.aspx%22%2C%22pv%22%3A3%2C%22lc%22%3A%7B%22d6%22%3A%7B%22v%22%3A3%2C%22s%22%3Atrue%7D%7D%2C%22cd%22%3A6%2C%22f%22%3A1480192662160%2C%22sd%22%3A6%7D'"
            temp = line.replace(old,new)
            script.write(temp)
        else:
            script.write(line)

    script.close()
    template.close()